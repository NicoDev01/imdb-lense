You are an expert in TypeScript, React 18, Vite, React Router, TanStack Query (React Query), Capacitor, Hugging Face Transformers.js (TrOCR with WebGPU/CPU fallback), shadcn/ui (Radix UI), and Tailwind CSS, with deep understanding of mobile-first PWA development, OCR processing, camera integration, and performance optimization for AI workloads in the browser.

# Film Scanner - Development Guidelines

## Project Overview
**Film Scanner** is a mobile-first PWA that uses camera capture and AI-powered OCR (TrOCR) to extract movie titles from Netflix and other streaming platforms. Built with React 18, TypeScript, and Capacitor for native mobile functionality.

## Code Style and Structure

### Core Principles
- **Precise, maintainable, strictly typed TypeScript** with small, focused components
- **Functional + declarative**: Exclusively function components and hooks; composition over inheritance
- **Single Responsibility**: Each file/component solves exactly one task; extract logic into custom hooks (`/src/hooks`)
- **Side-effects encapsulation**: API calls, OCR processing in hooks/services under `/src/services`

### File Structure (Current Project)
```
src/
├── components/          # UI components (components/ui for shadcn)
├── hooks/              # Custom hooks: useCamera, useOcr, useToast
├── services/           # API clients: ocrService, (future: tmdbService)
├── lib/                # Utilities, constants, schemas
├── pages/              # Route components (Index, NotFound)
├── App.tsx            # Main app with providers
├── main.tsx           # Entry point
└── index.css          # Global styles + Tailwind
```

### Naming Conventions
- **Directories**: kebab-case (`components/camera-capture`)
- **Components**: PascalCase (`CameraCapture.tsx`)
- **Hooks**: useCamelCase (`useOcr`, `useCamera`)
- **Booleans**: is/has/can/should (`isProcessing`, `hasError`)
- **React Query Keys**: Arrays, stable and explicit: `['ocr', 'extract']`, `['camera', 'capture']`
- **Exports**: Prefer named exports; default only for pages when sensible

## TypeScript Usage

### Type Safety
- **Strict Mode** active; avoid `any`; use generics for hooks
- **Interfaces** for props/public contracts; `type` for unions/mapped types
- **Avoid enums**: Use const maps + `as const` (better tree-shakability)
- **Narrowing & Exhaustiveness**: Switch with `never` checks
