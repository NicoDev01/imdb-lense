# ğŸ¬ Film Scanner - Movie Title Recognition App

**Film Scanner** ist eine moderne Progressive Web App (PWA), die Filmtitel von Netflix und anderen Streaming-Plattformen mittels KI-gestÃ¼tzter Texterkennung (OCR) erkennt und mit IMDb-Daten anreichert.

[![React](https://img.shields.io/badge/React-18.3.1-blue.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8.3-blue.svg)](https://www.typescriptlang.org/)
[![Vite](https://img.shields.io/badge/Vite-5.4.19-646CFF.svg)](https://vitejs.dev/)
[![Capacitor](https://img.shields.io/badge/Capacitor-7.4.3-blue.svg)](https://capacitorjs.com/)

## âœ¨ Features

### ğŸ¯ KernfunktionalitÃ¤t
- **KI-gestÃ¼tzte OCR**: Automatische Texterkennung aus Filmcovern mittels TrOCR (Microsoft)
- **Intelligente Titel-Matching**: TMDB API fÃ¼r prÃ¤zise Filmdaten-Abgleiche
- **IMDb-Rating Integration**: OMDb API fÃ¼r Bewertungen und Vote-Counts
- **Erweiterte Suche & Filter**: Debounced Live-Suche mit useDeferredValue
- **Intelligente Sortierung**: Nach Titel, Rating oder IMDb-VerfÃ¼gbarkeit
- **Pull-to-Refresh**: Manuelle Daten-Aktualisierung mit Query-Invalidierung
- **Mobile-First Design**: Optimierte Touch-Bedienung fÃ¼r Smartphones
- **Offline-FÃ¤higkeit**: Cached Daten fÃ¼r Offline-Nutzung

### ğŸ¨ BenutzeroberflÃ¤che
- **Einheitliche Ansicht**: Alle Informationen (Titel, IMDb-ID, Rating) kombiniert
- **Confidence-Indikatoren**: ZuverlÃ¤ssigkeitsbewertung der Erkennungen
- **Copy-Funktionen**: Einzeln oder alle Daten kopieren
- **Direkte IMDb-Links**: Ein-Klick Navigation zu IMDb-Seiten
- **Skeleton Loading**: Bessere wahrgenommene Performance
- **Responsive Design**: Passt sich an alle BildschirmgrÃ¶ÃŸen an

### ğŸ”§ Technische Features
- **Performance-optimiert**: React.memo, useCallback, useMemo fÃ¼r optimale Re-renders
- **Progressive Web App**: Installierbar als native App
- **WebGPU-UnterstÃ¼tzung**: Hardware-beschleunigte ML-Inferenz
- **Batch-Verarbeitung**: Effiziente API-Nutzung mit Rate-Limiting
- **Error Recovery**: Robuste Fehlerbehandlung und Fallbacks
- **Advanced Caching**: React Query mit intelligenten Stale-Times

## ğŸš€ Technologie-Stack

### Frontend
- **React 18** mit Hooks und Concurrent Features
- **TypeScript** fÃ¼r typsichere Entwicklung
- **Vite** fÃ¼r blitzschnelles Development und optimiertes Build
- **Tailwind CSS** fÃ¼r Utility-First Styling
- **shadcn/ui** fÃ¼r konsistente UI-Komponenten

### Mobile & Native
- **Capacitor** fÃ¼r Cross-Platform Mobile Apps (iOS/Android)
- **PWA Elements** fÃ¼r native Kamera-FunktionalitÃ¤t im Web

### KI & ML
- **Hugging Face Transformers.js** fÃ¼r Client-Side ML
- **TrOCR (Microsoft)** fÃ¼r hochprÃ¤zise Texterkennung
- **ONNX Runtime** fÃ¼r optimierte Modell-AusfÃ¼hrung

### APIs & Daten
- **TMDB API** fÃ¼r Filmdaten und IMDb-ID Matching
- **OMDb API** fÃ¼r IMDb-Ratings und Statistiken
- **React Query** fÃ¼r effizientes API-State-Management

### Entwicklung & QualitÃ¤t
- **ESLint + Prettier** fÃ¼r Code-QualitÃ¤t
- **Vitest** fÃ¼r Unit-Tests (zukÃ¼nftig)
- **Playwright** fÃ¼r E2E-Tests (zukÃ¼nftig)

## ğŸ—ï¸ Architektur

### Projektstruktur
```
src/
â”œâ”€â”€ components/          # UI-Komponenten
â”‚   â”œâ”€â”€ ui/             # shadcn/ui Basis-Komponenten
â”‚   â”œâ”€â”€ CameraCapture.tsx    # Kamera-Interface
â”‚   â”œâ”€â”€ MovieTitlesList.tsx  # Titel-Liste mit Modi
â”‚   â””â”€â”€ LoadingScreen.tsx    # OCR-Modell Initialisierung
â”œâ”€â”€ hooks/              # Custom React Hooks
â”‚   â”œâ”€â”€ useTmdb.ts      # TMDB API Integration
â”‚   â”œâ”€â”€ useOmdb.ts      # OMDb API Integration
â”‚   â””â”€â”€ use-toast.ts    # Toast Notifications
â”œâ”€â”€ services/           # API-Clients & Business Logic
â”‚   â”œâ”€â”€ tmdbService.ts  # TMDB API Client
â”‚   â”œâ”€â”€ omdbService.ts  # OMDb API Client
â”‚   â””â”€â”€ ocrService.ts   # OCR & ML Service
â”œâ”€â”€ types/              # TypeScript Type Definitions
â”‚   â”œâ”€â”€ tmdb.ts         # TMDB API Types
â”‚   â””â”€â”€ omdb.ts         # OMDb API Types
â”œâ”€â”€ lib/                # Utilities & Constants
â””â”€â”€ pages/              # Route-Komponenten
```

### Datenfluss
```
1. OCR Pipeline:
   Bild â†’ TrOCR â†’ Rohtext â†’ Textbereinigung â†’ Titel

2. TMDB Pipeline:
   Titel â†’ TMDB Search â†’ Best Match â†’ IMDb-ID + Metadaten

3. OMDb Pipeline:
   IMDb-ID â†’ OMDb Lookup â†’ Rating + Votes

4. UI Rendering:
   Alle Daten â†’ React Query â†’ Optimierte UI-Updates
```

## ğŸ“‹ Voraussetzungen

- **Node.js** 18+ ([nvm](https://github.com/nvm-sh/nvm#installing-and-updating) empfohlen)
- **npm** oder **bun** Package Manager
- **WebGPU-kompatibler Browser** (Chrome 113+, Edge 113+) fÃ¼r optimale Performance
- **HTTPS** fÃ¼r Kamera-Zugriff (development server lÃ¤uft automatisch mit HTTPS)

## ğŸ› ï¸ Installation & Setup

### 1. Repository klonen
```bash
git clone https://github.com/NicoDev01/cover-to-title-scanner.git
cd imdb-lense
```

### 2. Dependencies installieren
```bash
npm install
# oder
bun install
```

### 3. Environment Variables konfigurieren
```bash
# .env Datei erstellen
cp .env.example .env
```

Inhalt der `.env` Datei:
```env
VITE_TMDB_API_KEY=your_tmdb_api_key_here
VITE_OMDB_API_KEY=your_omdb_api_key_here
```

### 4. API-Keys beschaffen

#### TMDB API Key
1. [TMDB Account](https://www.themoviedb.org/account/signup) erstellen
2. [API Settings](https://www.themoviedb.org/settings/api) aufrufen
3. "Request API Key" fÃ¼r Developer Access
4. API Key aus "API Key (v3 auth)" kopieren

#### OMDb API Key
1. [OMDb API](https://www.omdbapi.com/apikey.aspx) besuchen
2. Kostenlosen API Key anfordern
3. Key aus E-Mail kopieren

### 5. Development Server starten
```bash
npm run dev
# oder
bun run dev
```

Die App ist verfÃ¼gbar unter `https://localhost:8080`

## ğŸ“± Verwendung

### Grundlegende Bedienung

1. **App Ã¶ffnen**: Film Scanner im Browser oder als PWA starten
2. **OCR-Modell laden**: Warten bis das TrOCR-Modell initialisiert ist
3. **Foto aufnehmen**: "Foto aufnehmen" Button drÃ¼cken
4. **Kamera verwenden**: Filmcover fotografieren
5. **Ergebnisse ansehen**: Erkannte Titel werden automatisch angezeigt

### Ansichtsmodi

#### ğŸ“‹ Titel-Modus (Standard)
- Reine Liste der erkannten Filmtitel
- Einfaches Copy-Paste fÃ¼r alle Titel

#### ğŸ¯ IMDb-Modus
- Titel mit zugehÃ¶rigen IMDb-IDs
- Confidence-Indikatoren fÃ¼r Matching-QualitÃ¤t
- Direkte Links zu IMDb-Seiten
- Copy-Funktionen fÃ¼r einzelne oder alle IDs

#### â­ Bewertungs-Modus
- Titel mit IMDb-Rating (1-10 Sterne)
- Vote-Counts fÃ¼r PopularitÃ¤tsindikator
- Direkte Links zu IMDb-Seiten
- Copy-Funktionen fÃ¼r Bewertungen

### Mobile Nutzung

#### Als Web-App
1. Browser Ã¶ffnen und zu `https://localhost:8080` navigieren
2. "Installieren" Button im Browser-MenÃ¼ klicken
3. App wird als native App installiert

#### Als Native App (Capacitor)
```bash
# iOS
npm run build
npx cap add ios
npx cap open ios

# Android
npm run build
npx cap add android
npx cap open android
```

## ğŸ”§ API-Integrationen

### TMDB (The Movie Database)

**Verwendung**: Filmdaten und IMDb-ID Matching
- **API Key**: Kostenloser Developer Key
- **Rate Limit**: ~50 req/s
- **Features**: Deutsche Lokalisierung, umfassende Filmdaten

### OMDb (Open Movie Database)

**Verwendung**: IMDb-Ratings und Statistiken
- **API Key**: Kostenloser Key (1000 req/Tag)
- **Rate Limit**: 1000 req/Tag
- **Features**: IMDb-Ratings, Vote-Counts, Metadaten

### Konfiguration

API-Keys werden Ã¼ber Environment Variables konfiguriert:
```env
VITE_TMDB_API_KEY=your_tmdb_key
VITE_OMDB_API_KEY=your_omdb_key
```

## ğŸš€ Deployment

### Web Deployment (Vercel/Netlify)

```bash
# Build fÃ¼r Production
npm run build

# Deploy auf Vercel
npm i -g vercel
vercel

# Deploy auf Netlify
npm i -g netlify-cli
netlify deploy --prod --dir=dist
```

### Mobile Apps

```bash
# iOS Build
npm run build
npx cap add ios
npx cap open ios
# In Xcode: Product â†’ Archive â†’ Distribute App

# Android Build
npm run build
npx cap add android
npx cap open android
# In Android Studio: Build â†’ Generate Signed Bundle/APK
```

## âš¡ Performance & Optimierung

### WebGPU-UnterstÃ¼tzung
- Automatische Fallback-Kette: WebGPU â†’ WASM â†’ CPU
- Hardware-beschleunigte ML-Inferenz fÃ¼r bessere Performance

### Caching-Strategien
- **React Query**: 1h Cache fÃ¼r API-Responses
- **Service Worker**: Modell-Dateien und Assets cachen
- **Local Storage**: Benutzereinstellungen persistieren

### Bundle-Optimierung
- **Code Splitting**: Lazy Loading fÃ¼r schwere Komponenten
- **Tree Shaking**: Automatische Entfernung ungenutzten Codes
- **Compression**: Gzip/Brotli fÃ¼r optimale Ladezeiten

## ğŸ” Troubleshooting

### HÃ¤ufige Probleme

#### âŒ CORS-Fehler bei OMDb
**Problem**: `Request header field content-type is not allowed`
**LÃ¶sung**: OMDb braucht keine HTTP-Header - nur API-Key als Query-Parameter

#### âŒ ONNX Runtime Warnungen
**Problem**: `Some nodes were not assigned to the preferred execution providers`
**LÃ¶sung**: Normale Performance-Optimierung - kann ignoriert werden

#### âŒ Kamera funktioniert nicht
**Problem**: `Unable to load PWA Element 'pwa-camera-modal'`
**LÃ¶sung**: PWA Elements Script in `index.html` hinzufÃ¼gen:
```html
<script src="https://unpkg.com/@ionic/pwa-elements@latest/dist/ionicpwaelements.js"></script>
```

#### âŒ API-Keys funktionieren nicht
**Problem**: 401 Unauthorized Fehler
**LÃ¶sung**:
- TMDB: Developer API Key verwenden (nicht Read Access Token)
- OMDb: Korrekten API Key aus E-Mail verwenden

### Debug-Modi

```bash
# Verbose Logging aktivieren
npm run dev -- --mode development

# Production Build analysieren
npm run build -- --mode analyze
```

## ğŸ¤ Contributing

### Development Setup
1. Fork das Repository
2. Feature Branch erstellen: `git checkout -b feature/amazing-feature`
3. Ã„nderungen committen: `git commit -m 'Add amazing feature'`
4. Branch pushen: `git push origin feature/amazing-feature`
5. Pull Request erstellen

### Code Style
- **TypeScript Strict Mode** aktiv
- **ESLint + Prettier** fÃ¼r Code-QualitÃ¤t
- **Conventional Commits** fÃ¼r Commit Messages
- **Component Story Format** fÃ¼r UI-Komponenten

### Testing
```bash
# Unit Tests (zukÃ¼nftig)
npm run test

# E2E Tests (zukÃ¼nftig)
npm run test:e2e

# Build Tests
npm run build
```

## ğŸ“„ Lizenz

Dieses Projekt ist unter der MIT License lizenziert - siehe [LICENSE](LICENSE) Datei fÃ¼r Details.

## ğŸ™ Acknowledgments

- **Microsoft** fÃ¼r TrOCR Modell
- **Hugging Face** fÃ¼r Transformers.js
- **The Movie Database (TMDB)** fÃ¼r Filmdaten
- **OMDb** fÃ¼r IMDb-Integration
- **shadcn/ui** fÃ¼r UI-Komponenten
- **Capacitor** fÃ¼r Mobile-UnterstÃ¼tzung

## ğŸ“ Support

Bei Fragen oder Problemen:
1. [Issues](https://github.com/NicoDev01/cover-to-title-scanner/issues) auf GitHub erstellen
2. [Discussions](https://github.com/NicoDev01/cover-to-title-scanner/discussions) fÃ¼r allgemeine Fragen
3. E-Mail an maintainer@project.com

---

**Entwickelt mit â¤ï¸ fÃ¼r Film-Enthusiasten**
